from django.db import models
from django.contrib.auth.models import User
# Create your models here.



class Comment(models.Model):
    author = models.ForeignKey(User, on_delete=models.CASCADE)
    content = models.CharField(max_length=200, default=None)


class TODO(models.Model):
    STATUS = [
        ('To do', 'TO DO'),
        ('In progress', 'IN PROGRESS'),
        ('Done', 'DONE')
    ]
    PRIORITY = [
        ('1', '1Ô∏è‚É£'),
        ('2', '2Ô∏è‚É£'),
        ('3', '3Ô∏è‚É£'),
        ('4', '4Ô∏è‚É£'),
        ('5', '5Ô∏è‚É£'),
        ('6', '6Ô∏è‚É£'),
        ('7', '7Ô∏è‚É£'),
        ('8', '8Ô∏è‚É£'),
        ('9', '9Ô∏è‚É£'),
        ('10', 'üîü')
    ]
    title = models.CharField(max_length=50)
    status = models.CharField(max_length=30, choices=STATUS)
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    creation_date = models.DateField(auto_now_add=True, null=True)
    expiration_date = models.DateField('Expiration date', null=True)
    priority = models.CharField(max_length=2, choices=PRIORITY)
    comments = models.ManyToManyField(Comment, default=None)

class Team(models.Model):
    title = models.CharField(max_length=50, default=None)
    users = models.ManyToManyField(User, default=None)
    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='%(class)s_requests_created', default=[], blank=True)
    todos = models.ManyToManyField(TODO, default=None)
